//VNJSn is copyright Patrick Martin January 2015
//In this text the words Source Code refer to the original code that this work was generated from.
//In this text the word "work" refers to a specific compiled (resulting from passing the Source Code through the Closure-Compiler software) version of this software.
//This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License.
//To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-nd/4.0/ or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
//The Source Code this work was created from and any other works derived from the Source Code are not bound by this work's licence.

window.URL=window.URL||window.webkitURL||{createObjectURL:function(a){var c=new FileReader;for(c.readAsDataURL(a);1==c.readyState;);return c.result},revokeObjectURL:function(){}};window.performance=window.performance||{now:function(){return new Date|0}};window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.mozRequestAnimationFrame||window.nb||function(a){var c=(window.ib||0)+1E3/60-performance.now();setTimeout(function(){window.ib=performance.now();a()},0>c?0:c)};function p(a){var c=a.toString().match(/(\d+\.\d{0})(\d)/);return c?parseFloat(c[1]):a.valueOf()}function u(a,c){var b=a.indexOf(c);return-1==b?[a.trim()]:[a.slice(0,b),a.slice(b+1).trim()]}window.g="/";"use strict";window.Reader=Object.create(Object,{w:{value:0,writable:!0},F:{value:[],writable:!0},init:{value:function(a){this.F=a.split("\n");this.w=0},writable:!1},hasNext:{value:function(){return this.w<this.F.length},writable:!1},next:{value:function(){return this.F[this.w++]},writable:!1}});"use strict";window.PropertiesReader=Object.create(window.Reader,{init:{value:function(a){var c=new XMLHttpRequest;c.open("GET",a,!1);c.send(null);this.F=c.responseText.split("\n");this.w=0},writable:!1},next:{value:function(){return u(this.F[this.w++],"=")},writable:!1}});"use strict";window.ScriptReader=Object.create(window.Reader,{init:{value:function(a){this.F=a.split("\n");this.w=0},writable:!1},getIndex:{value:function(){return this.w},writable:!1},setIndex:{value:function(a){this.w=a},writable:!1},peek:{value:function(){return u(this.F[this.kb]," ")},writable:!1},next:{value:function(){return u(this.F[this.w++]," ")},writable:!1}});"use strict";window.VNDSSoundManager=Object.create(Object,{da:{value:null,writable:!0},p:{value:25,writable:!0},e:{value:"",writable:!0},i:{value:"",writable:!0},o:{value:[],writable:!0},d:{value:{},writable:!0},a:{value:null,writable:!0},$:{value:function(a){"undefined"===typeof this.d[a]&&(this.d[a]=new Audio);var c=this,b=new XMLHttpRequest;b.onload=function(){if(4===b.readyState){if(""!=c.d[a].src)try{URL.revokeObjectURL(c.d[a].src)}catch(d){console.warn("Failed to revoke object url for sound: "+a)}if(200==b.status)c.d[a].src=URL.createObjectURL(b.response);else if(null!=c.da){var e;e=c.da.file("sound"+window.g+a);null==e?console.error('Error: could not load sound: "'+a+'"'):(e=e.asArrayBuffer(),e=new Blob([e]),c.d[a].src=URL.createObjectURL(e))}}};b.open("GET",this.e+"sound"+window.g+a,!0);b.responseType="blob";b.send(null)},writable:!1},ab:{value:function(){if("undefined"!==typeof this.d[this.i]){if(!this.va(this.i)){this.$(this.i);this.d[this.i].currentTime=0;try{this.d[this.i].play()}catch(a){}}}else if(""!=this.i){this.$(this.i);try{this.d[this.i].currentTime=0}catch(c){}try{this.d[this.i].onload=function(){try{this.play()}catch(a){}this.onload=function(){}};try{this.d[this.i].play()}catch(b){}}catch(d){}}},writable:!1},va:{value:function(a){return!this.d[a].paused&&0<this.d[a].currentTime},writable:!1},ha:{value:function(){var a=Object.keys(this.d),c=Number.POSITIVE_INFINITY,b=-1;if(a.length>=this.p){for(var d=0;d<a.length;d++)!this.va(a[d])&&this.d[a[d]].s<c&&(c=this.d[a[d]].s,b=d);0<=b&&(window.URL.revokeObjectURL(this.d[a[b]].src),delete this.d[a[b]]);a.length>this.p&&this.ha()}},writable:!1},setCacheSize:{value:function(a){this.p=a},writable:!1},playMusic:{value:function(a){"undefined"===typeof this.d[a]&&(this.ha(),this.$(a),this.d[a].s=0);this.d[a].s++;this.d[a].loop=!0;this.d[a].onended=function(){};this.d[a].jb=function(){};if("undefined"!==typeof this.d[this.i]){this.d[this.i].pause();try{this.d[this.i].currentTime=0}catch(c){}}this.i=a;this.d[a].onload=function(){try{this.play()}catch(a){}this.onload=function(){}};try{this.d[a].play()}catch(b){}},writable:!0},stopMusic:{value:function(){if("undefined"!==typeof this.d[this.i]){this.d[this.i].pause();try{this.d[this.i].currentTime=0}catch(a){}this.i=""}},writable:!1},getActiveMusic:{value:function(){return this.i},writable:!1},playSound:{value:function(a,c){"undefined"===typeof this.d[a]&&(this.ha(),this.$(a),this.d[a].s=0);this.d[a].s++;var b=this;this.d[a].loop=c;this.o.push(a);this.d[a].onended=function(){if(stop||!this.loop){this.loop=!1;var c=b.o.indexOf(a);-1!=c&&b.o.splice(c,1);try{this.pause()}catch(d){}try{this.currentTime=0}catch(h){}}};this.d[a].jb=function(){this.loop=!1;var c=b.o.indexOf(a);-1!=c&&b.o.splice(c,1);try{this.currentTime=0}catch(d){}};this.d[a].stop=!1;this.d[a].onload=function(){try{this.play()}catch(a){}this.onload=function(){}};try{this.d[a].play()}catch(d){}},writable:!0},stopSounds:{value:function(){for(var a=0;a<this.o.length;a++){try{this.d[this.o[a]].loop=!1}catch(c){}try{this.d[this.o[a]].stop=!0}catch(b){}try{this.d[this.o[a]].pause(),this.d[this.o[a]].currentTime=0}catch(d){}}},writable:!1},init:{value:function(a,c,b){this.a=a;this.e=c;this.Ta=new Audio;this.Ta.loop=!0;this.d={};this.o=[];var d=this,e=new XMLHttpRequest,f=0;e.onprogress=function(a){if(a.lengthComputable)for(;f<a.loaded/a.total*100;)f++,d.a.incLoadProgress()};e.onload=function(){if(4===e.readyState)for(200==e.status?(console.log("Loaded Sound Archive."),d.da=new JSZip(e.response)):d.da=new JSZip,d.ab();100>f;)f++,d.a.incLoadProgress()};e.open("GET",b,!0);e.responseType="arraybuffer";e.send(null)},writable:!1}});"use strict";window.VNDSForegroundManager=Object.create(Object,{X:{value:null,writable:!0},p:{value:25,writable:!0},e:{value:"",writable:!0},u:{value:0,writable:!0},q:{value:0,writable:!0},a:{value:null,writable:!0},qa:{value:Object.create(Object,{x:{value:0,writable:!0},y:{value:0,writable:!0},code:{value:null,writable:!0},name:{value:null,writable:!0},data:{value:null,writable:!0},pa:{value:0,writable:!0}}),writable:!1},Ea:{value:Object.create(Object,{path:{value:null,writable:!0},Ba:{value:0,writable:!0},Ca:{value:null,writable:!0},direction:{value:1,writable:!0},duration:{value:0,writable:!0},Da:{value:function(){},writable:!0},ea:{value:0,writable:!0},handle:{value:"",writable:!0},hb:{value:function(a){return this.path.lb(this.Ba*a)},writable:!1}}),writable:!1},ua:{value:{Linear:function(a){return a},InQuad:function(a){return Math.pow(a,2)},OutQuad:function(a){return a*(2-a)},InOutQuad:function(a){return.5>a?2*Math.pow(a,2):-1+(4-2*a)*a},InCubic:function(a){return Math.pow(a,3)},OutCubic:function(a){return--a*Math.pow(a,2)+1},InOutCubic:function(a){return.5>a?4*Math.pow(a,3):(a-1)*(2*a-2)*(2*a-2)+1},InQuart:function(a){return Math.pow(a,4)},OutQuart:function(a){return 1- --a*Math.pow(a,3)},InOutQuart:function(a){return.5>a?8*Math.pow(a,4):1-8*--a*Math.pow(a,3)},InQuint:function(a){return Math.pow(a,5)},OutQuint:function(a){return 1+--a*Math.pow(a,4)},InOutQuint:function(a){return.5>a?16*Math.pow(a,5):1+16*--a*Math.pow(a,4)}},writable:!1},H:{value:[],writable:!0},S:{value:[],writable:!0},f:{value:{},writable:!0},G:{value:{},writable:!0},$a:{value:function(){for(var a=Object.keys(this.f),c=0;c<a.length;c++)this.ma(a[c])},writable:!1},Qa:{value:function(a){for(var c=!1,b=0;b<this.S.length;b++)c=c||this.S[b].data.src==this.f[a].data.src;return c},writable:!1},ja:{value:function(){var a=Object.keys(this.f),c=Number.POSITIVE_INFINITY,b=-1;if(a.length>=this.p){for(var d=0;d<a.length;d++)!this.Qa(a[d])&&this.f[a[d]].pa<c&&(c=this.f[a[d]].pa,b=d);0<=b&&("undefined"===typeof window.EncryptedImage&&URL.revokeObjectURL(this.f[a[b]].data.src),delete this.f[a[b]]);a.length>this.p&&this.ja()}},writable:!1},ma:{value:function(a){if("undefined"===typeof window.EncryptedImage){"undefined"===typeof this.f[a]&&(this.ja(),this.f[a]=Object.create(this.qa),this.f[a].name=a,this.f[a].data=new Image);var c=this,b=new XMLHttpRequest;b.onload=function(){if(4===b.readyState){if(""!=c.f[a].data.src)try{URL.revokeObjectURL(c.f[a].data.src)}catch(d){console.warn("Failed to revoke object url for sprite: "+a)}if(200==b.status)c.f[a].data.src=URL.createObjectURL(b.response);else if(null!=c.X){var e;e=c.X.file("foreground"+window.g+a);null==e?console.error('Error: could not load sprite: "'+a+'"'):(e=e.asArrayBuffer(),e=new Blob([e]),c.f[a].data.src=URL.createObjectURL(e))}}};b.open("GET",this.e+"foreground"+window.g+a,!0);b.responseType="blob";b.send(null)}else"undefined"===typeof this.f[a]&&(this.ja(),this.f[a]=Object.create(this.qa),this.f[a].name=a,this.f[a].data=new EncryptedImage(a,this.e+"foreground"+window.g+a))},writable:!1},setCacheSize:{value:function(a){this.p=a},writable:!0},preloadSprite:{value:function(a){"undefined"===typeof this.f[a]&&this.ma(a)},writable:!1},showSprite:{value:function(a,c,b,d){"undefined"===typeof this.f[a]&&this.ma(a);this.f[a].pa++;a=Object.create(this.f[a]);null!=d&&(this.G[d]=a,this.G[d].code=d);a.x=c/256*this.u;a.y=b/192*this.q;this.S.push(a)},writable:!1},animateOnPath:{value:function(a,c,b,d,e,f){var h=Object.create(this.Ea);h.path=document.createElementNS("http://www.w3.org/2000/svg","path");h.path.setAttribute("d",c);h.Ba=h.path.mb();h.Ca=this.ua[e]||this.ua.InOutQuad;h.direction=d;h.duration=b;h.handle=a;h.Da=f;h.ea=0;this.H.push(h)},writable:!1},animateAll:{value:function(a){for(var c=0;c<this.H.length;c++){var b=this.H[c];0==b.ea&&(b.ea=a);var d=(a-b.ea)/1E3/b.duration;1<d&&(d=1);var e=b.Ca(d);0>b.direction&&(e=1-e);e=b.hb(e);this.G[b.handle].x=e.x/256*this.u;this.G[b.handle].y=e.y/192*this.q;1==d&&(b.Da(),this.H.splice(this.H.indexOf(b),1),c--)}},writable:!0},setSpritePos:{value:function(a,c,b){try{this.G[a].x=c/256*this.u,this.G[a].y=b/192*this.q}catch(d){}},writable:!1},clearSprites:{value:function(){this.H=[];this.G={};this.S=[]},writable:!1},getSpriteDelegate:{value:function(){var a=this;return{getVisibleSprites:function(){return a.S.slice(0)}}},writable:!1},init:{value:function(a,c,b,d,e){this.a=a;this.u=c;this.q=b;this.e=d;this.f={};this.H=[];this.G={};this.S=[];var f=this,h=new XMLHttpRequest,k=0;h.onprogress=function(a){if(a.lengthComputable)for(;k<a.loaded/a.total*100;)k++,f.a.incLoadProgress()};h.onload=function(){if(4===h.readyState)for(200==h.status?(console.log("Loaded Foreground Archive."),f.X=new JSZip(h.response)):f.X=new JSZip,f.$a();100>k;)k++,f.a.incLoadProgress()};h.open("GET",e,!0);h.responseType="arraybuffer";h.send(null)}}});"use strict";window.VNDSBackgroundManager=Object.create(Object,{W:{value:null,writable:!0},p:{value:25,writable:!0},e:{value:"",writable:!0},h:{value:{},writable:!0},a:{value:null,writable:!0},ia:{value:function(){var a=Object.keys(this.h),c=Number.POSITIVE_INFINITY,b=-1;if(a.length>=this.p){for(var d=0;d<a.length;d++)this.a.getActiveBackground()!=a[d]&&this.a.getLastBackground()!=a[d]&&this.h[a[d]].s<c&&(c=this.h[a[d]].s,b=d);0<=b&&("undefined"===typeof window.EncryptedImage&&window.URL.revokeObjectURL(this.h[a[b]].src),delete this.h[a[b]]);a.length>this.p&&this.ia()}},writable:!1},Za:{value:function(){for(var a=Object.keys(this.h),c=0;c<a.length;c++)this.aa(a[c])},writable:!1},aa:{value:function(a){if("undefined"===typeof window.EncryptedImage){"undefined"===typeof this.h[a]&&(this.ia(),this.h[a]=new Image,this.h[a].s=0);var c=this,b=new XMLHttpRequest;b.onload=function(){if(4===b.readyState){if(""!=c.h[a].src)try{URL.revokeObjectURL(c.h[a].src)}catch(d){console.warn("Failed to revoke object url for background: "+a)}if(200==b.status)c.h[a].src=URL.createObjectURL(b.response);else if(null!=c.W){var e;e=c.W.file("background"+window.g+a);null==e?console.error('Error: could not load background: "'+a+'"'):(e=e.asArrayBuffer(),e=new Blob([e]),c.h[a].src=URL.createObjectURL(e))}}};b.open("GET",this.e+"background"+window.g+a,!0);b.responseType="blob";b.send(null)}else"undefined"===typeof this.h[a]&&(this.ia(),this.h[a]=new EncryptedImage(a,this.e+"background"+window.g+a),this.h[a].s=0)},writable:!1},getBackground:{value:function(a){"undefined"===typeof this.h[a]&&this.aa(a);this.h[a].s++;return this.h[a]},writable:!1},setCacheSize:{value:function(a){this.p=a},writable:!1},init:{value:function(a,c,b){this.e=c;this.h={};this.a=a;var d=this,e=new XMLHttpRequest,f=0;e.onprogress=function(a){if(a.lengthComputable)for(;f<a.loaded/a.total*100;)f++,d.a.incLoadProgress()};e.onload=function(){if(4===e.readyState)for(200==e.status?(console.log("Loaded Background Archive."),d.W=new JSZip(e.response)):d.W=new JSZip,d.Za();100>f;)f++,d.a.incLoadProgress()};e.open("GET",b,!0);e.responseType="arraybuffer";e.send(null)}}});"use strict";window.VNDSScriptManager=Object.create(Object,{D:{value:0,writable:!0},R:{value:0,writable:!0},ta:{value:[],writable:!0},sa:{value:[],writable:!0},N:{value:"",writable:!0},a:{value:null,writable:!0},Q:{value:null,writable:!0},bb:{value:function(a){for(var c=-1,b=-1;-1!=(b=c=a.indexOf("$",c+1));){var d=" ",e=0;0<c&&"{"==a[c-1]&&(b=c-1,d="}",e=1);d=a.indexOf(d,c+1);-1==d&&(d=a.length);var f=a.substring(c+1,d);if("$"==f[0])a=a.substring(0,b)+"$"+a.substring(d+e);else{var h=this.a.getVariable(f);"undefined"===typeof h&&(h=this.a.getGlobalVariable(f));a=a.substring(0,b)+h+a.substring(d+e)}}return a},writable:!1},Ia:{value:function(a){var c;c=a.trim();if("#"==c[0])return"#";"fi"==c&&this.D--;for(c=0;"\t"==a[c];c++);c!=this.D&&(this.a.setPaused(3),this.a.error("ERROR: Script Invalid ("+this.N+":"+(this.j.getIndex()-1)+") - Expected depth is: "+this.D+" Found: "+c));return a.substring(c)},writable:!1},Ma:{value:function(a){a=a.trim().split(" ");if(3!=a.length)return this.a.setPaused(3),this.a.error("ERROR: Script Invalid ("+this.N+":"+(this.j.getIndex()-1)+") - Invalid if statement with "+a.length+" parts."),!1;var c=parseInt(a[0]),b=parseInt(a[2]),d=a[1].trim();isNaN(c)&&(c=this.a.getVariable(a[0]),"undefined"===typeof c&&(c=this.a.getGlobalVariable(a[0])||0));isNaN(b)&&(b=this.a.getVariable(a[2].trim()),"undefined"===typeof b&&(b=this.a.getGlobalVariable(a[2].trim())||0));if("=="==d)return c==b;if("!="==d)return c!=b;if(">="==d)return c>=b;if("<="==d)return c<=b;if(">"==d)return c>b;if("<"==d)return c<b;this.a.setPaused(3);this.a.error("ERROR: Script Invalid ("+this.N+":"+(this.j.getIndex()-1)+') - Unknown conditional operation "'+d+'".');return!1},writable:!1},Xa:{value:function(a){var c=1;"~"==a[0]?this.a.putText(""):"!"==a[0]?this.R||this.a.setPaused(1):("@"==a[0]&&(a=a.substring(1),c=0),this.a.putText(a),this.R||this.a.setPaused(c))},writable:!1},ka:{value:function(a){this.D=0;this.j.setIndex(0);for(var c=!1;this.j.hasNext()&&!c;){var b=this.j.next();"label"==b[0].trim()?b[1]==a&&(c=!0):"if"==b[0].trim()?this.D++:"fi"==b[0].trim()&&this.D--}this.j.hasNext()||(this.a.setPaused(3),this.a.error('Error: could not find label "'+a+'"'))},writable:!1},getCurrentScript:{value:function(){return this.N},writable:!1},setCurrentScript:{value:function(a){this.P(a)},writable:!1},getScriptIndex:{value:function(){var a=this.j.getIndex();0<a&&a--;return a},writable:!1},setScriptIndex:{value:function(a){this.j.setIndex(a)},writable:!1},getSkipping:{value:function(){return this.R},writable:!1},setSkipping:{value:function(a){this.R=a},writable:!1},parse:{value:function(){if(this.j.hasNext()){var a=this.j.next();a[0]=this.Ia(a[0]);a[1]&&(a[1]=this.bb(a[1]));var c=this;switch(a[0].trim()){case "push":this.ta.push(parseInt(a[1])||a[1]);break;case "pop":this.a.setVariable(a[1],this.ta.pop());break;case "gosub":this.sa.push(this.j.getIndex());this.ka(a[1]);break;case "return":this.j.setIndex(this.sa.pop());break;case "bgload":a=a[1].split(" ");this.a.loadBackground(a[0],a[1]||16);break;case "playmovie":this.a.playMovie(a[1]);break;case "text":this.Xa(a[1]);break;case "delay":this.R||(this.a.setPaused(2),window.setTimeout(function(){c.a.setPaused(0)},1E3/60*parseInt(a[1])));break;case "choice":this.a.setPaused(2);this.a.showChoice(a[1].split("|"));break;case "if":if(this.Ma(a[1]))this.D++;else for(a=0;this.j.hasNext()&&-1!=a;){var b=this.j.next()[0];"if"==b.trim()?a++:"fi"==b.trim()&&a--}break;case "setimg":a=a[1].split(" ");this.a.showSprite(a[0],parseInt(a[1])||0,parseInt(a[2])||0,a[3]||null);break;case "setpos":a=a[1].split(" ");this.a.setSpritePos(a[0],parseInt(a[1])||0,parseInt(a[2])||0);break;case "animate":var d=u(a[1]," "),a=d[0],d=u(d[1]," "),e=parseInt(d[0])||"true"==d[0].trim(),d=u(d[1]," "),b=1E3/60*parseInt(d[0]),d=u(d[1]," "),f="reverse"!=d[0]?1:-1,d=u(d[1]," "),h=d[0],d=d[1];e?(this.a.setPaused(2),e=function(){c.a.setPaused(0)}):e=function(){};this.a.animateOnPath(a,d,b,f,h,e);break;case "sound":a=a[1].split(" ");b=!1;"undefined"!==typeof a[1]&&(b=parseInt(a[1]),b=isNaN(b)?"true"==a[1]:0<b);"~"==a[0]?this.a.stopSounds():this.a.playSound(a[0],b);break;case "music":"~"==a[1]?this.a.stopMusic():this.a.playMusic(a[1]);break;case "setvar":f=a[1].split(" ");if("~"==f[0]&&"~"==f[1])this.a.clearVariables();else if("+"==f[1]){a=this.a.getVariable(f[0]);b=parseInt(f[2]);if(isNaN(b)){if(b=f[2],"undefined"===typeof a||null==a)a=""}else if("undefined"===typeof a||null==a)a=0;this.a.setVariable(f[0],a+b)}else if("-"==f[1])if(a=this.a.getVariable(f[0]),b=parseInt(f[2]),isNaN(b))this.a.error("Error: subtraction not supported on non-integer variables."),this.a.setPaused(3);else{if("undefined"===typeof a||null==a)a=0;this.a.setVariable(f[0],a-b)}else if("="==f[1])b=parseInt(f[2]),isNaN(b)&&(b=f[2]),this.a.setVariable(f[0],b);else if("*"==f[1])if(a=this.a.getVariable(f[0]),b=parseInt(f[2]),isNaN(b))this.a.error("Error: multiplication not supported on non-integer variables."),this.a.setPaused(3);else{if("undefined"===typeof a||null==a)a=0;this.a.setVariable(f[0],a*b)}else if("/"==f[1])if(a=this.a.getVariable(f[0]),b=parseInt(f[2]),isNaN(b))this.a.error("Error: division not supported on non-integer variables."),this.a.setPaused(3);else{if("undefined"===typeof a||null==a)a=0;this.a.setVariable(f[0],a/b)}break;case "gsetvar":f=a[1].split(" ");if("+"==f[1]){a=this.a.getGlobalVariable(f[0]);b=parseInt(f[2]);if(isNaN(b)){if(b=f[2],"undefined"===typeof a||null==a)a=""}else if("undefined"===typeof a||null==a)a=0;this.a.setGlobalVariable(f[0],a+b)}else if("-"==f[1])if(a=this.a.getGlobalVariable(f[0]),b=parseInt(f[2]),isNaN(b))this.a.error("Error: subtraction not supported on non-integer variables."),this.a.setPaused(3);else{if("undefined"===typeof a||null==a)a=0;this.a.setGlobalVariable(f[0],a-b)}else if("="==f[1])b=parseInt(f[2]),isNaN(b)&&(b=f[2]),this.a.setGlobalVariable(f[0],b);else if("*"==f[1])if(a=this.a.getGlobalVariable(f[0]),b=parseInt(f[2]),isNaN(b))this.a.error("Error: multiplication not supported on non-integer variables."),this.a.setPaused(3);else{if("undefined"===typeof a||null==a)a=0;this.a.setGlobalVariable(f[0],a*b)}else if("/"==f[1])if(a=this.a.getGlobalVariable(f[0]),b=parseInt(f[2]),isNaN(b))this.a.error("Error: division not supported on non-integer variables."),this.a.setPaused(3);else{if("undefined"===typeof a||null==a)a=0;this.a.setGlobalVariable(f[0],a/b)}break;case "random":a=a[1].split(" ");this.a.setVariable(a[0],p(parseInt(a[1])+Math.floor(Math.random()*(parseInt(a[2])-parseInt(a[1])+1))));break;case "goto":this.ka(a[1]);break;case "cleartext":this.a.clearText("!"==a[1]);break;case "endscript":this.P("main.scr");break;case "jump":this.R||this.a.setPaused(1);b=a[1].split(" ");2==b.length?(this.P(b[0]),this.ka(b[1])):this.P(a[1]);break;case "#":case "label":case "fi":case "":break;default:console.warn('Warning: unknown script command "'+a[0]+'"')}}else this.P("main.scr")},writable:!1},getScriptFile:{value:function(a){var c=new XMLHttpRequest;c.open("GET",this.e+"script"+window.g+a,!1);c.send(null);return 200==c.status?c.responseText.replace(/    /g,"\t").replace(/\r/g,""):this.Q&&(a=this.Q.file("script"+window.g+a),null!=a)?a.asText().replace(/    /g,"\t").replace(/\r/g,""):""},writable:!1},P:{value:function(a){this.D=0;var c=new XMLHttpRequest;c.open("GET",this.e+"script"+window.g+a,!1);c.send(null);200==c.status?(this.j.init(c.responseText.replace(/    /g,"\t").replace(/\r/g,"")),this.N=a):this.Q&&(c=this.Q.file("script"+window.g+a),null!=c&&(this.j.init(c.asText().replace(/    /g,"\t").replace(/\r/g,"")),this.N=a))},writable:!1},init:{value:function(a,c){this.a=a;this.e=c;this.j=Object.create(window.ScriptReader);var b=this,d=new XMLHttpRequest,e=0;d.onprogress=function(a){if(a.lengthComputable)for(;e<a.loaded/a.total*100;)e++,b.a.incLoadProgress()};d.onload=function(){4===d.readyState&&(200==d.status?(console.log("Loaded Script Archive."),b.Q=new JSZip(d.response)):b.Q=new JSZip,b.P("main.scr"))};d.open("GET",(window.url_prefix||"")+this.e+"script.zip"+(window.url_suffix||""),!0);d.responseType="arraybuffer";d.send(null)},writable:!1}});"use strict";window.VNDSGraphicsManager=Object.create(Object,{c:{value:null,writable:!0},Aa:{value:null,writable:!0},O:{value:0,writable:!0},Y:{value:"sans-serif",writable:!0},t:{value:null,writable:!0},oa:{value:0,writable:!0},b:{value:null,writable:!0},I:{value:null,writable:!0},l:{value:null,writable:!0},ra:{value:0,writable:!0},C:{value:1,writable:!0},a:{value:null,writable:!0},V:{value:!1,writable:!0},na:{value:1,writable:!0},ba:{value:0,writable:!0},Z:{value:!1,writable:!0},J:{value:!1,writable:!0},U:{value:0,writable:!0},M:{value:[],writable:!0},fb:{value:function(a,c){var b=document.createElement("canvas");b.width=a.width>a.width*c?a.width:a.width*c;b.height=a.height>a.height*c?a.height:a.height*c;var d=b.getContext("2d");d.putImageData(a,0,0);d.scale(c,c);d.drawImage(b,0,0);return d.getImageData(0,0,a.width*c,a.height*c)},writable:!1},Pa:{value:function(a){var c=(a.offsetX||a.layerX)/window.innerWidth*this.c.width,b=(a.offsetY||a.layerY)/window.innerWidth*this.c.width,d=Math.floor((this.c.width-25)/69),e=Math.floor((this.c.height-25)/53);a=1;for(var f=(this.c.width-69*d)/2,h=(this.c.height-53*e)/2,k=0;k<e;k++)for(var l=h+53*k,m=0;m<d;m++){var n=f+69*m;if(c>=n&&c<=n+64&&b>=l&&b<=l+48){this.a.save(a);this.J=!1;this.draw();c=this.b.getImageData(0,0,this.c.width/2,this.c.height);c=this.fb(c,64/(this.c.width/2));this.a.setSaveIcon(a,c);return}a++}},writable:!1},Oa:{value:function(a){var c=(a.offsetX||a.layerX)/window.innerWidth*this.c.width;a=(a.offsetY||a.layerY)/window.innerWidth*this.c.width;for(var b=Math.floor((this.c.width-25)/69),d=Math.floor((this.c.height-25)/53),e=1,f=(this.c.width-69*b)/2,h=(this.c.height-53*d)/2,k=0;k<d;k++)for(var l=h+53*k,m=0;m<b;m++){var n=f+69*m;if(c>=n&&c<=n+64&&a>=l&&a<=l+48){this.a.load(e);this.J=!1;return}e++}},writable:!1},Ka:{value:function(){this.b.fillStyle="black";this.b.fillRect(0,0,this.c.width,this.c.height);var a=this.c.height/8;this.b.font=a+"px sans-serif";this.b.fillStyle="white";this.b.fillText("Loading",this.c.width/2-this.b.measureText("Loading").width/2,this.c.height/2+a/2);this.b.font=a/2+"px sans-serif";var c=Math.floor(100*this.ba/this.na)+"%";this.b.fillText(c,this.c.width/2-this.b.measureText(c).width/2,this.c.height/2+a);this.ba>=this.na&&this.a.setLoading(!1)},writable:!1},La:{value:function(){this.b.fillStyle="black";this.b.fillRect(0,0,this.c.width,this.c.height);this.b.fillStyle="rgb(27,27,27)";this.b.fillRect(10,10,this.c.width-20,this.c.height-20);var a=Math.floor((this.c.width-25)/69),c=Math.floor((this.c.height-25)/53),b=(this.c.width-69*a)/2,d=(this.c.height-53*c)/2;this.b.fillStyle="white";this.b.font=d-12+"px sans-serif";this.b.fillText("Save",b,d-4);this.b.fillStyle="rgb(20,20,20)";var e=1;this.b.font="24px sans-serif";for(var f=0;f<c;f++)for(var h=d+53*f,k=0;k<a;k++){var l=b+69*k;this.b.fillStyle="rgb(20,20,20)";this.b.fillRect(l,h,64,48);var m=this.a.getSaveIcon(e,this.b,64,48);null!=m&&this.b.putImageData(m,l,h);m=this.b.measureText(e).width;this.b.fillStyle="gray";this.b.fillText(e++,l+(64-m)/2,h+36)}},writable:!1},Ja:{value:function(){this.b.fillStyle="black";this.b.fillRect(0,0,this.c.width,this.c.height);this.b.fillStyle="rgb(27,27,27)";this.b.fillRect(10,10,this.c.width-20,this.c.height-20);var a=Math.floor((this.c.width-25)/69),c=Math.floor((this.c.height-25)/53),b=(this.c.width-69*a)/2,d=(this.c.height-53*c)/2;this.b.fillStyle="white";this.b.font=d-12+"px sans-serif";this.b.fillText("Load",b,d-4);this.b.fillStyle="rgb(20,20,20)";var e=1;this.b.font="24px sans-serif";for(var f=0;f<c;f++)for(var h=d+53*f,k=0;k<a;k++){var l=b+69*k;this.b.fillStyle="rgb(20,20,20)";this.b.fillRect(l,h,64,48);var m=this.a.getSaveIcon(e,this.b,64,48);null!=m&&this.b.putImageData(m,l,h);m=this.b.measureText(e).width;this.b.fillStyle="gray";this.b.fillText(e++,l+(64-m)/2,h+36)}},writable:!1},showSaveMenu:{value:function(){this.J=!0;this.U=1},writable:!1},showLoadMenu:{value:function(){this.J=!0;this.U=2},writable:!1},showChoice:{value:function(a){this.M=a;this.Z=!0},writable:!1},putText:{value:function(a){this.oa=0;a=a.split(" ");var c=a[0];this.b.font=this.O+"px "+this.Y;for(var b=1;b<a.length;b++)this.b.measureText(c+" "+a[b]).width>this.c.width/2?(this.t.push(c),c=a[b]):c+=" "+a[b];for(this.t.push(c);128<this.t.length;)this.t.splice(0,1)},writable:!1},clearText:{value:function(a){this.oa=0;if(a)this.t=[];else for(a=0;15>a;a++)this.t.push("")},writable:!1},playMovie:{value:function(a){function c(){d.V=!1;d.l=this.Fa;d.a.setPaused(0)}var b=document.createElement("video");b.Fa=this.l;b.src=this.a.getRootPath()+"video"+window.g+a;this.C=1;this.l=b;this.a.setPaused(2);this.V=!0;var d=this;b.onended=c;b.onerror=c;b.onabort=c;b.play()},writable:!1},setBackground:{value:function(a,c){this.C=1/(1>c?1:c);this.ra=1/(1>c?1:c);this.I=this.l;this.l=a},writable:!1},setLoadScreenVisible:{value:function(a){if(this.J=a)this.U=3},writable:!1},resetLoadProgress:{value:function(){this.ba=0},writable:!1},setMaxLoadProgress:{value:function(a){this.na=a},writable:!1},incLoadProgress:{value:function(){this.ba++},writable:!1},draw:{value:function(){if(this.J||this.V)if(this.V)this.b.fillStyle="black",this.b.fillRect(0,0,this.c.width,this.c.height),this.b.drawImage(this.l,this.c.width/4,0,this.c.width/2,this.c.height);else switch(this.U){case 1:this.La();break;case 2:this.Ja();break;case 3:this.Ka()}else{this.b.fillStyle="black";this.b.fillRect(0,0,this.c.width/2,this.c.height);"undefined"!==typeof this.I&&null!=this.I&&("undefined"!==typeof window.EncryptedImage||this.I.complete&&0!=this.I.naturalWidth)&&("undefined"===typeof window.EncryptedImage?1>this.C&&this.b.drawImage(this.I,0,0,this.c.width/2,this.c.height):1>this.C&&this.b.drawImage(this.I.getImage(),0,0,this.c.width/2,this.c.height));"undefined"!==typeof this.l&&null!=this.l&&("undefined"!==typeof window.EncryptedImage||this.l.complete&&0!=this.l.naturalWidth)&&(this.b.globalAlpha=this.C,1>this.C&&(this.C+=this.ra),"undefined"===typeof window.EncryptedImage?this.b.drawImage(this.l,0,0,this.c.width/2,this.c.height):this.b.drawImage(this.l.getImage(),0,0,this.c.width/2,this.c.height),this.b.globalAlpha=1);for(var a=this.Aa.getVisibleSprites(),c=0;c<a.length;c++)"undefined"===typeof window.EncryptedImage?a[c].data.complete&&0!=a[c].data.naturalWidth&&this.b.drawImage(a[c].data,a[c].x,a[c].y):this.b.drawImage(a[c].data.getImage(),a[c].x,a[c].y);this.b.fillStyle="black";this.b.fillRect(this.c.width/2,0,this.c.width/2,this.c.height);this.b.fillStyle="white";this.b.font=this.O+"px "+this.Y;for(c=0;15>c&&c<this.t.length;c++)this.b.fillText(this.t[this.oa+this.t.length-1-c],this.c.width/2,15*this.O-this.O*c);if(this.Z){var a=this.M.length,b=this.c.height/(a+5);this.b.font=b/4+"px "+this.Y;for(c=1;c<=a;c++){var d=this.b.measureText(this.M[c-1]).width,e=this.c.width/4-d/2;this.b.fillStyle="rgba(27,27,27,0.75)";this.b.fillRect(e-5,b*c-2,d+10,b/4+4);this.b.fillStyle="white";this.b.fillText(this.M[c-1],e,b*c+3*b/16)}}}},writable:!1},init:{value:function(a,c,b,d){var e=this;this.Aa=d;this.a=a;this.t=[];this.c=document.createElement("canvas");this.c.width=2*c;this.c.height=b;this.c.style.height="auto";this.c.style.width=window.innerWidth+"px";this.c.style.msInterpolationMode="nearest-neighbor";this.c.addEventListener("click",function(a){if(!e.V&&e.J)switch(e.U){case 1:e.Pa(a);break;case 2:e.Oa(a)}else if(1==e.a.getPaused())e.a.setPaused(0);else if(2==e.a.getPaused()&&e.Z){var b=(a.offsetX||a.layerX)/window.innerWidth*this.width,c=(a.offsetY||a.layerY)/window.innerWidth*this.width,d=e.M.length,m=this.height/(d+5);e.b.font=.75*e.O+"px "+e.Y;for(var n=1;n<=d;n++){var q=e.b.measureText(e.M[n-1]).width,r=this.width/4-q/2-5,t=m*n-2,q=r+q+10,v=t+m/4+4;if(b>=r&&c>=t&&b<=q&&c<=v){e.a.setVariable("selected",n);e.Z=!1;e.a.setPaused(0);break}}}a.cancelBubble=!0;return!1});this.O=b/16;document.body.appendChild(this.c);this.b=this.c.getContext("2d")}}});"use strict";window.VNJS=Object.create(Object,{r:{value:0,writable:!0},fa:{value:null,writable:!0},ga:{value:"",writable:!0},u:{value:256,writable:!0},q:{value:192,writable:!0},T:{value:"",writable:!0},wa:{value:"",writable:!0},e:{value:null,writable:!0},B:{value:{},writable:!0},v:{value:{},writable:!0},n:{value:null,writable:!0},A:{value:null,writable:!0},L:{value:null,writable:!0},k:{value:null,writable:!0},la:{value:0,writable:!0},K:{value:"",writable:!0},ca:{value:function(a,c){for(var b=a+"";b.length<c;)b="0"+b;return b},writable:!1},Na:{value:function(a,c,b,d){c=c.createImageData(b,d);a=window.localStorage.getItem(this.K+window.g+"slot["+a+"][icon]");if(null==a)return null;a=a.split(",");for(b=0;b<c.data.length;b++)c.data[b]=parseInt(a[b]);return c},writable:!1},gb:{value:function(a,c){for(var b="",d=0;d<c.data.length;d++)b+=c.data[d]+",";window.localStorage.setItem(this.K+window.g+"slot["+a+"][icon]",b)},writable:!1},Ga:{value:function(){for(var a=document.implementation.createDocument(null,"global"),c=a.documentElement,b=Object.keys(this.v),d=0;d<b.length;d++){var e=a.createElementNS(null,"var");e.setAttribute("name",b[d]);switch(typeof this.v[b[d]]){case "number":e.setAttribute("type","int");break;case "string":e.setAttribute("type","string");break;default:e.setAttribute("type",typeof this.v[b[d]])}e.setAttribute("value",this.v[b[d]]);c.appendChild(e)}return a},writable:!1},Ha:{value:function(){var a=document.implementation.createDocument(null,"save"),c=a.documentElement,b=a.createElementNS(null,"script"),d=a.createElementNS(null,"file"),e=a.createElementNS(null,"position");d.textContent=this.n.getCurrentScript();e.textContent=this.n.getScriptIndex();b.appendChild(d);b.appendChild(e);c.appendChild(b);var b=a.createElementNS(null,"date"),d=new Date,e=d.getYear()+1900,f=d.getMonth()+1,h=d.getDate(),k=d.getMinutes(),d=this.ca(d.getHours(),2)+":"+this.ca(k,2)+" "+e+"/"+this.ca(f,2)+"/"+this.ca(h,2);b.textContent=d;c.appendChild(b);d=a.createElementNS(null,"variables");e=Object.keys(this.B);for(b=0;b<e.length;b++){f=a.createElementNS(null,"var");f.setAttribute("name",e[b]);switch(typeof this.B[e[b]]){case "number":f.setAttribute("type","int");break;case "string":f.setAttribute("type","string");break;default:f.setAttribute("type",typeof this.B[e[b]])}f.setAttribute("value",this.B[e[b]]);d.appendChild(f)}c.appendChild(d);d=a.createElementNS(null,"state");b=a.createElementNS(null,"music");b.textContent=this.A.getActiveMusic();d.appendChild(b);b=a.createElementNS(null,"background");b.textContent=this.T;d.appendChild(b);e=a.createElementNS(null,"sprites");f=this.m.getSpriteDelegate().getVisibleSprites();for(b=0;b<f.length;b++)h=a.createElementNS(null,"sprite"),h.setAttribute("path",f[b].name),h.setAttribute("x",f[b].x/this.u*256),h.setAttribute("y",f[b].y/this.q*192),null!=f[b].code&&h.setAttribute("code",f[b].code),e.appendChild(h);d.appendChild(e);c.appendChild(d);return a},writable:!1},za:{value:function(a,c){var b=new XMLSerializer;window.localStorage.setItem(a,b.serializeToString(c))},writable:!1},Va:{value:function(a){for(var c=0;c<a.childNodes.length;c++){var b=a.childNodes[c];if("#text"!=b.nodeName){if("sprite"!=b.nodeName){console.error("Error: invalid save file.");break}var d=b.getAttribute("path"),e=parseInt(b.getAttribute("x")),f=parseInt(b.getAttribute("y")),b=b.getAttribute("code");this.m.showSprite(d,e,f,b)}}},writable:!1},Wa:{value:function(a){for(var c={},b=0;b<a.childNodes.length;b++){var d=a.childNodes[b];if("#text"!=d.nodeName){if("var"!=d.nodeName){console.error("Error: invalid save file.");return}var e=d.getAttribute("name"),f=d.getAttribute("type"),d=d.getAttribute("value"),h;switch(f){case "int":h=parseInt(d);break;case "string":h=d;default:console.warn('Warning: unrecognized variable type "'+f+'" the variable has been ignored.')}"undefined"!==typeof h&&(c[e]=h)}}this.B=c},writable:!1},Ua:{value:function(a){a=a.documentElement;if("save"!=a.nodeName)console.error("Error: invalid save file.");else for(var c=0;c<a.childNodes.length;c++){var b=a.childNodes[c];if("#text"!=b.nodeName)switch(b.nodeName){case "script":for(var d=0;d<b.childNodes.length;d++){var e=b.childNodes[d];if("#text"!=e.nodeName)switch(e.nodeName){case "file":this.n.setCurrentScript(e.textContent);break;case "position":this.n.setScriptIndex(parseInt(e.textContent))}}break;case "variables":this.Wa(b);break;case "state":for(this.m.clearSprites(),d=0;d<b.childNodes.length;d++)if(e=b.childNodes[d],"#text"!=e.nodeName)switch(e.nodeName){case "music":this.A.playMusic(e.textContent);break;case "background":var f=this.L.getBackground(e.textContent);this.k.setBackground(f,0);this.T=e.textContent;break;case "sprites":this.Va(e)}}}},writable:!1},ya:{value:function(a){a=a.documentElement;var c={};if("global"!=a.nodeName)return console.error("Error: GLOBAL.SAV is not a global save file."),{};for(var b=0;b<a.childNodes.length;b++){var d=a.childNodes[b];if("#text"!=d.nodeName){if("var"!=d.nodeName)return console.error("Error: GLOBAL.SAV is not a global save file."),{};var e=d.getAttribute("name"),f=d.getAttribute("type"),d=d.getAttribute("value"),h;switch(f){case "int":h=parseInt(d);break;case "string":h=d;default:console.warn('Warning: unrecognized variable type "'+f+'" the variable has been ignored.')}"undefined"!==typeof h&&(c[e]=h)}}return c},writable:!1},cb:{value:function(a){var c=this.Ha();this.za(this.K+window.g+"slot["+a+"][save]",c)},writable:!1},Ra:{value:function(a){a=window.localStorage.getItem(this.K+window.g+"slot["+a+"][save]");null!=a&&(a=(new DOMParser).parseFromString(a,"application/xml"),this.Ua(a))},writable:!1},eb:{value:function(){var a=this.Ga();this.za(this.K+window.g+"globals",a)},writable:!1},Sa:{value:function(){var a=this,c=window.localStorage.getItem(this.K+window.g+"globals");if(null!=c)c=(new DOMParser).parseFromString(c,"application/xml"),this.v=this.ya(c);else{var b=new XMLHttpRequest;b.onload=function(){4===b.readyState&&(200==b.status?a.v=a.ya(b.responseXML):console.warn("Warning: Failed to load global save file, the visual novel may not function correctly."))};b.onerror=function(){console.warn("Warning: Failed to load global save file, the visual novel may not function correctly.")};b.open("GET",this.e+"save"+window.g+"GLOBAL.SAV",!0);b.overrideMimeType("application/xml");b.responseType="document";b.send()}},writable:!1},Ya:{value:function(a){this.L.getBackground(a)},writable:!1},aa:{value:function(a,c){var b=this.L.getBackground(a);this.wa=this.T;this.T=a;this.k.setBackground(b,c);this.m.clearSprites()},writable:!1},xa:{value:function(){var a=performance.now();0==this.r&&(!this.n.getSkipping()||a-this.la>=1E3/60)&&this.n.parse();a-this.la>=1E3/60&&(this.m.animateAll(a),this.k.draw(),this.la=performance.now());null!=this.fa&&this.fa();var c=this;window.requestAnimationFrame(function(){c.xa()})},writable:!1},init:{value:function(a,c){this.K=a;this.e="vnds"+window.g+"novels"+window.g+a+window.g;this.B={};this.v={};var b=Object.create(window.PropertiesReader),d=Object.create(window.PropertiesReader);this.n=Object.create(window.VNDSScriptManager);this.k=Object.create(window.VNDSGraphicsManager);this.A=Object.create(window.VNDSSoundManager);this.L=Object.create(window.VNDSBackgroundManager);this.m=Object.create(window.VNDSForegroundManager);b.init(this.e+"info.txt");d.init(this.e+"img.ini");for(var e,f;b.hasNext();){var h=b.next();switch(h[0]){case "title":e=h[1];break;case "opening":f=h[1]}}for("undefined"===typeof c?document.title=e||document.title:c(e);d.hasNext();)switch(h=d.next(),h[0]){case "width":this.u=parseInt(h[1]);break;case "height":this.q=parseInt(h[1])}var k=this,l={setPaused:function(a){k.r=a},getPaused:function(){return k.r},error:function(a){k.ga=a;console.error(a)},setLoading:function(a){k.r=a?4:0;a&&k.k.resetLoadProgress();k.k.setLoadScreenVisible(a)},incLoadProgress:function(){k.k.incLoadProgress()},setMaxLoadProgress:function(a){k.k.setMaxLoadProgress(a)},clearVariables:function(){k.B={}},getVariable:function(a){return k.B[a]},setVariable:function(a,b){k.B[a]=b},getGlobalVariable:function(a){return k.v[a]},setGlobalVariable:function(a,b){k.v[a]=b},playMusic:function(a){k.A.playMusic(a)},stopMusic:function(){k.A.stopMusic()},playSound:function(a,b){k.A.playSound(a,b)},stopSounds:function(){k.A.stopSounds()},preloadSprite:function(a){k.m.preloadSprite(a)},showSprite:function(a,b,c,d){k.m.showSprite(a,b,c,d)},setSpritePos:function(a,b,c){k.m.setSpritePos(a,b,c)},animateOnPath:function(a,b,c,d,e,f){k.m.animateOnPath(a,b,c,d,e,f)},showChoice:function(a){k.k.showChoice(a)},playMovie:function(a){k.k.playMovie(a)},clearText:function(a){k.k.clearText(a)},preloadBackground:function(a){k.Ya(a)},loadBackground:function(a,b){k.aa(a,b)},getActiveBackground:function(){return k.T},getLastBackground:function(){return k.wa},putText:function(a){k.k.putText(a)},setSkipping:function(a){k.n.setSkipping(a)},showSaveMenu:function(){k.k.showSaveMenu()},showLoadMenu:function(){k.k.showLoadMenu()},save:function(a){k.cb(a)},load:function(a){k.Ra(a)},getSaveIcon:function(a,b,c,d){return k.Na(a,b,c,d)},setSaveIcon:function(a,b){return k.gb(a,b)},getRootPath:function(){return k.e}};window.addEventListener("keydown",function(a){17==a.keyCode&&(1==l.getPaused()&&l.setPaused(0),l.setSkipping(1))},!1);window.addEventListener("keyup",function(a){17==a.keyCode&&l.setSkipping(0);a.shiftKey&&49<=a.keyCode&&57>=a.keyCode?(console.log("saving..."),l.save(a.keyCode-48)):49<=a.keyCode&&57>=a.keyCode&&(console.log("loading..."),l.load(a.keyCode-48));a.shiftKey&&83==a.keyCode&&l.showSaveMenu();a.shiftKey&&76==a.keyCode&&l.showLoadMenu()},!1);this.Sa();this.n.init(l,this.e,(window.url_prefix||"")+this.e+"script.zip"+(window.url_suffix||""));this.A.init(l,this.e,(window.url_prefix||"")+this.e+"sound.zip"+(window.url_suffix||""));this.L.init(l,this.e,(window.url_prefix||"")+this.e+"background.zip"+(window.url_suffix||""));this.m.init(l,this.u,this.q,this.e,(window.url_prefix||"")+this.e+"foreground.zip"+(window.url_suffix||""));this.k.init(l,this.u,this.q,this.m.getSpriteDelegate());l.setMaxLoadProgress(400);l.setLoading(!0);"undefined"!==typeof f&&this.k.playMovie(f);window.requestAnimationFrame(function(){k.xa()})},writable:!1},getDebugDelegate:{value:function(){var a=this;return{getCurrentScript:function(){return a.n.getCurrentScript()},getScriptFile:function(c){return a.n.getScriptFile(c)},getScriptIndex:function(){return a.n.getScriptIndex()},getErrorText:function(){return a.ga},pause:function(){a.r=5},isPaused:function(){return 3==a.r||5==a.r},resume:function(){if(3==a.r||5==a.r)a.r=0,a.ga=""},getWidth:function(){return 2*a.u},getHeight:function(){return a.q},setCacheSizes:function(c){a.A.setCacheSize(c);a.L.setCacheSize(c);a.m.setCacheSize(c)},setDebugLoopCallback:function(c){a.fa=c}}},writable:!1},deinit:{value:function(){this.eb()},writable:!1}});